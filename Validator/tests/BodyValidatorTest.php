<?php

namespace Samek\Validator;

use PHPUnit\Framework\TestCase;
use Samek\Validator\Validators\BodyValidator;
use Slim\Http\RequestBody;
use Respect\Validation\Exceptions\NestedValidationException;

class BodyValidatorTest extends TestCase
{
    /**
     * Prepares new request body with provided data
     *
     * @param array $data Assoc. array to put in request body
     *
     * @return RequestBody
     */
    private function prepareRequestBody($data)
    {
        $body = new RequestBody();
        $body->write(json_encode($data));
        $body->rewind();

        return $body;
    }

    public function testValidBody()
    {
        $data = [
            "accountId" => "85010c53-eafd-4ce2-93c0-5818b593c25b",
            "timestamp" => 1540462747,
            "data" => "random string that can be valid JSON too",
            "isActive" => true,
            "balance" => "$1,892.83",
            "picture" => "http://placehold.it/32x32",
            "age" => 26,
            "eyeColor" => "blue",
            "name" => [
                "first" => "Katina",
                "last" => "Phelps"
            ]
        ];

        $body = $this->prepareRequestBody($data);

        $bodyValidator = new BodyValidator($body);

        $this->assertFalse($bodyValidator->validate());
    }

    public function testBadBodySize()
    {
        $this->expectException(NestedValidationException::class);

        $data = [
            "accountId" => "85010c53-eafd-4ce2-93c0-5818b593c25b",
            "timestamp" => 1540462747,
            "data" => "Aute veniam irure esse sint fugiat et cillum proident. Ea aliqua labore incididunt sit commodo est et aliqua exercitation aute officia dolor. Occaecat ea consequat occaecat reprehenderit velit veniam non incididunt labore cillum reprehenderit exercitation consectetur consectetur. Veniam proident aliquip ex voluptate eu voluptate id eu pariatur excepteur ad dolor ullamco et. Incididunt tempor laborum deserunt fugiat qui incididunt enim nisi ea excepteur eu ut. Laborum laboris occaecat ipsum non tempor veniam occaecat fugiat sunt sunt anim eu.\n\nUllamco qui excepteur Lorem enim aliqua mollit amet sit irure tempor qui magna. Nostrud amet nisi nostrud non voluptate esse exercitation pariatur. Pariatur minim ullamco est dolor commodo eiusmod irure esse. Sint reprehenderit velit dolore laborum non esse.\n\nAliquip ut fugiat sint proident duis eu quis esse sunt consequat. Labore consectetur consectetur laborum in. Cillum adipisicing eu veniam aliqua ut esse deserunt proident id laboris. Deserunt officia id Lorem qui veniam. Cupidatat pariatur non fugiat ea. Aute cupidatat ut quis ex ad sit fugiat minim duis enim culpa.\n\nElit labore quis excepteur ex consectetur irure sint eiusmod commodo ex. Occaecat do nisi pariatur minim Lorem labore pariatur ut sit sint voluptate. Amet ad aute ullamco occaecat amet aute nostrud exercitation Lorem. Culpa quis est qui anim commodo amet nostrud aliquip enim esse eu. Aute cillum nostrud eiusmod proident labore cupidatat consectetur ea ullamco proident ut amet veniam dolor.\n\nEt commodo amet incididunt labore ut amet eiusmod officia incididunt quis eu. Labore amet veniam consequat reprehenderit esse tempor duis. Officia pariatur reprehenderit quis exercitation minim elit nulla reprehenderit culpa est excepteur. Cillum laboris nulla sint esse.\n\nAute esse sint esse proident consectetur incididunt sunt ad do mollit sint ullamco tempor esse. Cupidatat ad veniam aliqua dolore eu qui labore. Duis culpa do eu sunt ex nulla. Laborum nulla laboris laborum id et. Mollit est sint amet nostrud deserunt tempor consequat cillum officia est ipsum nisi irure.\n\nAmet aute fugiat sint adipisicing dolor consectetur et ut adipisicing consectetur esse mollit fugiat. Proident culpa culpa pariatur ipsum eiusmod pariatur labore ex esse. Consectetur quis minim velit non sint fugiat amet minim est dolore. Sint tempor ut cillum incididunt nulla amet commodo Lorem proident excepteur elit pariatur.\n\nEx consequat laborum velit aliqua consectetur cillum veniam adipisicing aute. Pariatur fugiat ad adipisicing id esse adipisicing. Culpa occaecat ad aliquip duis ad ipsum et eu incididunt aute sunt et. Esse exercitation amet est qui elit aute laborum qui in aliquip non. Exercitation incididunt ad labore aliquip enim nulla in labore. Ipsum laborum et quis quis dolor elit in reprehenderit Lorem ut elit adipisicing occaecat. Proident Lorem labore culpa pariatur.\n\nOccaecat officia enim quis aliquip tempor ut. Aute duis incididunt consectetur laborum anim. In eiusmod nisi nulla est duis cillum qui. Enim pariatur quis Lorem veniam ea. Aute exercitation consequat dolor veniam nulla reprehenderit quis culpa occaecat veniam nisi eiusmod cupidatat. In non sunt commodo elit.\n\nAliqua labore qui culpa ut et non culpa ipsum deserunt ad. Cupidatat sint veniam aliquip mollit commodo officia sit. Elit minim nulla deserunt nulla tempor est incididunt ad. Consectetur ut aliqua ex elit voluptate consequat sint magna tempor. Est culpa duis ea minim proident ipsum ut anim dolor duis nulla ullamco minim do.\n\nDolore pariatur sit nulla elit duis sunt. Consequat officia sit sunt occaecat mollit eiusmod ea deserunt tempor sit et. Et duis pariatur laborum et anim. Sit mollit sunt laboris nostrud et quis sit nostrud deserunt aliqua enim irure enim. Proident aute do aliquip ex.\n\nExercitation eiusmod fugiat eiusmod reprehenderit minim qui consectetur dolor ipsum dolor. Mollit nulla sint irure sint adipisicing nostrud cillum culpa officia adipisicing minim mollit eiusmod ad. Esse reprehenderit magna aliquip pariatur qui dolore. Elit excepteur ullamco eiusmod irure irure minim.\n\nUllamco fugiat minim commodo elit labore proident cupidatat mollit qui. Irure velit non Lorem exercitation anim minim nostrud aute est. Qui esse laboris ipsum veniam. Et ad excepteur cillum veniam veniam nostrud. Quis exercitation quis ad laborum excepteur occaecat. Amet ea ut amet sint fugiat nostrud laborum irure ut sunt nisi duis minim Lorem.\n\nId qui ex cupidatat do consectetur sunt occaecat. Ea ut duis incididunt anim eiusmod laborum tempor exercitation pariatur aliqua. Laboris adipisicing consequat occaecat et pariatur eu do veniam dolor. Labore qui do veniam labore fugiat aliqua Lorem. Irure ut incididunt irure eu qui pariatur dolore sunt cupidatat dolor.\n\nSunt velit ex reprehenderit ipsum veniam mollit. Non dolor labore ea sunt incididunt eiusmod voluptate. Anim cupidatat magna quis in deserunt nisi occaecat officia ex officia sint. Elit tempor cupidatat proident nulla exercitation. Pariatur officia commodo tempor enim eiusmod.\n\nDo nisi minim tempor ad consequat culpa nisi ad ea pariatur consequat consequat. Nulla duis culpa dolor pariatur laborum mollit excepteur. Ipsum ea cupidatat pariatur magna et non et dolor do elit est anim. Velit veniam laborum tempor dolore aute nisi consectetur in ipsum duis.\n\nIn non eu amet ullamco nisi. Eu tempor minim ut magna elit dolore cupidatat nulla in aliquip culpa sunt. Fugiat consectetur proident Lorem duis consectetur ullamco officia. Proident cillum ipsum esse ipsum qui labore labore et dolore id laborum nostrud enim. Lorem mollit voluptate anim magna incididunt reprehenderit tempor ea.\n\nExcepteur labore adipisicing id amet. Irure laborum ex aute aliquip fugiat consectetur ex exercitation. Minim excepteur aute velit nulla. Do ea irure laborum aliqua exercitation. Veniam do esse laboris occaecat id adipisicing tempor ullamco eiusmod velit. Commodo sunt do commodo laboris eu id fugiat laborum irure. Exercitation eu officia do proident in ea dolor ex voluptate anim cupidatat sint commodo dolor.\n\nMollit adipisicing sit occaecat laborum qui ad aliquip elit adipisicing nostrud non sunt aliqua anim. Irure occaecat mollit ipsum enim cupidatat occaecat est anim. Qui velit dolor magna cillum anim nisi. Lorem culpa amet sunt anim esse in est cillum ullamco veniam. Reprehenderit anim aliqua ullamco tempor fugiat id consequat aliqua culpa fugiat sint dolor.\n\nIn Lorem ad aliqua tempor excepteur. Aliqua proident est et ex. Labore nisi in deserunt dolore laboris est laboris amet sunt in.\n\nEu ullamco laborum proident deserunt excepteur tempor anim nostrud. Elit in commodo dolore anim. Tempor anim quis duis occaecat ut duis non est incididunt veniam reprehenderit qui aute mollit. Nisi excepteur proident non est ipsum ullamco. Ad ut pariatur nostrud id nulla laborum exercitation Lorem culpa mollit consequat cupidatat commodo.\n\nAliqua ea qui excepteur veniam eiusmod duis magna qui nostrud. Anim pariatur eiusmod excepteur quis eiusmod cillum eu esse. Voluptate sint proident est laboris sit cillum labore est culpa eiusmod adipisicing laborum. Enim laborum nisi officia qui ad id elit mollit aute ipsum aliqua.\n\nOfficia ad nulla laboris elit eu nisi reprehenderit. Nulla ex aliquip dolore ullamco dolor consectetur cupidatat veniam est Lorem. Cillum velit et elit eiusmod excepteur non dolore adipisicing nostrud. Dolor consequat eiusmod culpa aliqua qui laboris labore adipisicing reprehenderit duis veniam veniam excepteur.\n\nIncididunt laboris anim officia officia labore laborum laborum incididunt cillum nostrud enim duis. Cupidatat Lorem excepteur do ea ad enim irure qui aliquip pariatur officia occaecat anim culpa. Do quis eiusmod occaecat ipsum. Pariatur commodo irure nostrud et laborum elit incididunt mollit magna officia. Tempor excepteur sint in commodo culpa cillum sint aliquip quis velit consectetur do anim aliqua.\n\nSit et velit occaecat sunt sit. Id deserunt officia elit reprehenderit. Dolor nisi incididunt non sunt officia quis sit. Ad quis ea voluptate minim cupidatat reprehenderit. Ullamco esse aliqua officia ullamco laborum reprehenderit ipsum esse et dolore non duis veniam.\n\nNisi qui ea voluptate id voluptate labore aute. Nostrud sunt et tempor id magna cupidatat aliquip velit non aliquip eiusmod. Sunt eu occaecat pariatur id laboris labore duis ipsum. Ea dolor duis occaecat sit cillum eiusmod ut eu. Ullamco ea ullamco nisi labore cupidatat quis irure ex proident incididunt culpa deserunt enim ut.\n\nSint elit mollit occaecat velit sit incididunt commodo consequat adipisicing eu voluptate Lorem occaecat. Tempor deserunt nostrud nulla fugiat ut officia non aliqua pariatur amet ullamco elit ea reprehenderit. Velit ipsum incididunt dolore cillum amet consequat tempor aute irure laboris cillum eu. Reprehenderit in consectetur eu cupidatat ea veniam irure. Deserunt occaecat in esse Lorem velit in consectetur aliquip occaecat eiusmod Lorem.\n\nDo commodo aliquip tempor ullamco ea. Veniam veniam tempor eiusmod in quis qui in sunt pariatur. Nisi aliqua ad aliquip labore mollit dolor. Ullamco consectetur magna anim ex minim irure ullamco incididunt velit tempor est. Culpa dolore non cillum do in ex in. Nostrud magna excepteur reprehenderit do pariatur aliquip esse tempor esse do cupidatat officia ut magna.\n\nLaboris elit proident reprehenderit cillum ipsum culpa eiusmod adipisicing amet. Proident consectetur qui ipsum anim dolor. Deserunt nostrud cillum occaecat commodo nulla dolore anim.\n\nOccaecat non anim adipisicing ad nulla occaecat officia commodo quis. Id do tempor pariatur duis. Magna cillum voluptate ad ullamco nisi commodo nostrud. Sunt in non tempor aute nisi sit do consequat ex esse. Enim exercitation consectetur adipisicing ex sint quis minim ipsum occaecat labore qui veniam. Proident cillum consequat amet proident sunt anim id do id mollit dolor sint. Consequat do incididunt ad labore.\n\nVeniam sint elit ad aliqua voluptate velit fugiat mollit labore. Labore anim magna veniam quis sit dolore quis elit voluptate occaecat dolore. Aliquip ex ad reprehenderit mollit labore id laborum ad. Sint cillum commodo dolore amet. Labore minim incididunt excepteur sint officia.\n\nCommodo officia labore in nisi consequat adipisicing aliquip enim sunt do id minim proident. Qui id ad adipisicing fugiat mollit ullamco culpa mollit. Fugiat magna consectetur consectetur voluptate culpa aliqua nulla Lorem esse in sint laborum ex dolore. Minim nulla exercitation eiusmod do aliquip culpa pariatur ex aliqua ex eu proident labore est. Minim ut laborum et laborum. Proident dolore esse Lorem ullamco ipsum laborum exercitation adipisicing do adipisicing sit amet.\n\nEnim enim enim labore ad fugiat. Aliquip aliquip nostrud consectetur qui nostrud sint mollit voluptate aute aute. Esse adipisicing non ex enim ea anim exercitation ut esse sit quis voluptate ex.\n\nNostrud occaecat pariatur aliquip in ipsum officia excepteur id ex magna qui est. Aliqua voluptate occaecat in irure irure ad veniam est consequat adipisicing veniam ut dolore consectetur. Consequat enim ut esse voluptate ex aute occaecat eu deserunt et nulla mollit. Ullamco et ea officia eu.\n\nAnim laboris elit eu commodo commodo mollit mollit. Voluptate ullamco excepteur laboris officia laboris voluptate. Fugiat fugiat aliqua do laboris non voluptate nisi tempor laboris magna.\n\nSunt ex magna est elit reprehenderit. Laboris laboris pariatur laborum sint ipsum cillum magna enim sit nostrud. Nisi est deserunt pariatur culpa culpa eu nostrud exercitation in ipsum eiusmod. Duis consectetur dolore minim ut. Sit labore ipsum in ad non tempor duis ex cupidatat dolore occaecat. Irure officia exercitation adipisicing cupidatat laboris ullamco aliquip dolore irure mollit ea reprehenderit aute est.\n\nDo amet mollit adipisicing nulla in. Cupidatat officia ex nulla consequat adipisicing mollit irure sit cupidatat. Quis elit fugiat deserunt velit quis sunt voluptate exercitation.\n\nCupidatat ad nisi adipisicing exercitation aute officia tempor. Culpa laborum laboris aliqua enim Lorem adipisicing reprehenderit. Tempor amet eiusmod velit velit laboris excepteur officia anim qui. Dolore minim tempor magna quis eu elit eiusmod excepteur enim consectetur cillum enim ipsum elit. Et minim labore proident ullamco. Aliqua id incididunt est adipisicing qui quis aliqua id veniam nisi. Magna excepteur ipsum laborum tempor irure nulla minim irure sint.\n\nLaborum deserunt ea mollit proident fugiat non. Eiusmod sint qui sint occaecat magna. Aute nostrud nulla excepteur occaecat deserunt eu eu velit. Ex id voluptate tempor deserunt do adipisicing labore sint. Magna sunt commodo esse sit amet enim non pariatur nisi consectetur cupidatat sunt Lorem. Laborum non Lorem ex deserunt.\n\nEst elit tempor nisi Lorem minim fugiat consequat Lorem. Sunt culpa minim enim incididunt ut anim mollit elit consequat do. Anim mollit labore elit officia in aute reprehenderit. Culpa proident ipsum elit ea dolore amet sit deserunt tempor ad velit non Lorem laborum. Cillum quis eiusmod mollit enim dolor aliqua cillum sunt.\n\nReprehenderit ea minim ea elit ea do anim nulla. Irure qui esse pariatur voluptate pariatur anim. Eu proident laborum excepteur reprehenderit est tempor cupidatat dolore mollit sit. Cupidatat laborum deserunt nostrud culpa culpa incididunt id deserunt dolor incididunt amet aliquip sit id. Irure minim ipsum officia ad. Incididunt eiusmod excepteur laboris ea anim minim sint.\n\nPariatur tempor excepteur consectetur labore consequat elit anim duis voluptate sunt officia. Laboris aliqua Lorem ad dolor cupidatat sint et commodo officia voluptate. Commodo excepteur laboris officia eu nisi ullamco laboris culpa elit ex. Proident commodo velit eiusmod irure reprehenderit aliqua cillum. Do ad do sunt esse occaecat nostrud sunt cillum sint magna. Ullamco anim proident velit cupidatat do proident anim.\n\nLabore excepteur officia ea proident ullamco commodo ullamco consectetur ut ullamco proident excepteur fugiat. Enim incididunt qui minim consectetur ea proident est voluptate mollit velit ad. Occaecat veniam ullamco exercitation exercitation labore mollit fugiat commodo est. Laboris veniam ex exercitation do deserunt. Non exercitation ipsum officia amet nostrud ullamco ad elit in do duis eiusmod velit occaecat. Ullamco sit commodo nostrud amet est nisi eu elit pariatur laborum velit amet in dolore.\n\nIn duis dolore mollit enim cupidatat elit enim. Dolore sit ipsum consequat incididunt adipisicing sit non occaecat consequat sit cupidatat ut sit ex. Veniam occaecat mollit dolor anim anim nisi. Consequat do deserunt nostrud cillum dolore dolore do ullamco consequat anim tempor magna. Proident ullamco exercitation enim magna consequat pariatur incididunt quis occaecat exercitation. Ex aliqua excepteur proident proident est laboris consequat excepteur. Consectetur do consectetur quis exercitation occaecat.\n\nAute ea mollit cupidatat nostrud ut in. Ullamco magna esse elit in anim enim non nostrud anim cillum sunt aliquip. Nisi mollit excepteur sint deserunt aliqua ex aute mollit cillum. Irure voluptate ipsum est nulla esse reprehenderit mollit irure.\n\nEx ut id eu ea. Id ipsum est exercitation magna. Elit ea ullamco enim do fugiat ad cupidatat et anim excepteur fugiat voluptate sit dolore. Eiusmod et ullamco sunt nisi culpa veniam laborum in enim. Officia irure id officia anim velit nisi laborum exercitation magna aute voluptate.\n\nDolore Lorem id mollit cupidatat aute est. Exercitation eiusmod esse proident ex ut ut ut veniam aute aute non reprehenderit exercitation. Irure aute dolor enim magna reprehenderit non ipsum. Tempor ea minim id consequat. Ex pariatur dolor fugiat officia culpa mollit sit consequat ipsum. Aute veniam sint sint ex.\n\nConsequat laborum id eu sit nostrud duis aliquip officia tempor id ex et excepteur excepteur. Aliquip veniam in ullamco ea anim. Incididunt aliquip non do deserunt ut Lorem esse elit excepteur do eiusmod sunt. Excepteur id officia mollit aliquip ea. Minim ex Lorem incididunt irure consequat aute fugiat labore laborum.\n\nExercitation ea voluptate commodo non reprehenderit minim duis. Reprehenderit nulla aliquip ullamco amet velit voluptate laboris quis non. In sint Lorem veniam nisi duis dolore. Lorem amet sit elit fugiat amet quis ut.\n\nQuis elit ullamco eu fugiat sit in incididunt labore pariatur anim exercitation culpa aliqua sunt. Sint ad ad laboris incididunt eiusmod in nulla mollit duis cillum culpa veniam est. Id occaecat qui excepteur occaecat aliqua minim labore quis nostrud minim. Consectetur quis cupidatat incididunt ad sint ut adipisicing occaecat tempor consequat. Nostrud laborum nulla adipisicing nulla anim cupidatat.\n\nCulpa proident dolore aute enim adipisicing excepteur officia anim duis culpa aliquip. Eu incididunt voluptate ut deserunt exercitation aliquip Lorem nisi enim voluptate dolor laborum aliquip voluptate. Magna eu pariatur velit est et laboris consequat eu esse. Esse nostrud anim excepteur cupidatat incididunt et. Sunt eiusmod eu ea do ipsum nostrud dolor ipsum adipisicing adipisicing. Officia aute Lorem officia amet commodo ipsum sunt cupidatat Lorem cupidatat. Mollit ad deserunt sunt in nisi ex est ex fugiat sit proident magna.\n\nNostrud ex irure non excepteur eiusmod culpa in cillum excepteur esse quis consequat amet. Tempor exercitation laboris reprehenderit sint ex. Aliquip labore reprehenderit id voluptate officia dolor sit sunt nisi ipsum aute velit.\n\nConsectetur in Lorem pariatur consectetur minim esse commodo incididunt occaecat consectetur minim. Ad et irure quis aute est. In qui laboris sit dolore sint eiusmod consectetur duis ad tempor quis sit id. Commodo commodo proident pariatur quis minim ullamco irure nostrud cupidatat sint ex et occaecat. Eiusmod velit Lorem sint aliquip.\n\nQuis consequat proident laborum amet. Consectetur tempor et ex aliqua. Reprehenderit pariatur veniam sint minim adipisicing eu dolor aute consectetur. Nostrud dolor nisi excepteur officia veniam ullamco labore sunt.\n\nDo veniam adipisicing fugiat id. Minim deserunt magna sit do magna ipsum enim exercitation officia culpa ad. Laborum occaecat velit quis ad consequat laboris voluptate ullamco nulla aliquip. Pariatur ipsum adipisicing tempor velit in est nulla ullamco esse proident et irure. Aute laborum labore exercitation labore ad duis dolor proident et elit in non.\n\nPariatur ad minim aliqua exercitation quis nisi. Excepteur minim sunt excepteur cillum ad esse. Eu eu ipsum veniam adipisicing esse eu laborum. Duis enim aute eu Lorem veniam adipisicing.\n\nDeserunt pariatur ullamco nostrud ipsum qui labore commodo minim reprehenderit dolor. Voluptate tempor quis quis velit nostrud dolore in aliquip. Commodo officia in adipisicing ullamco do irure ea quis deserunt sunt cupidatat aliqua cupidatat enim. Proident tempor ipsum ex id velit labore ex do exercitation anim. Tempor officia incididunt labore deserunt exercitation commodo ut ea mollit eu laborum amet.\n\nAliquip non duis laborum culpa ad irure ullamco ea cupidatat dolor. Aliqua in adipisicing aliquip ut cupidatat laboris reprehenderit id ad non exercitation. Esse commodo consequat proident deserunt labore dolor Lorem voluptate incididunt dolore ullamco. Nulla eiusmod irure velit amet est fugiat fugiat minim anim eiusmod ullamco deserunt qui qui.\n\nExercitation et elit quis tempor incididunt culpa aliqua sunt sit. Laborum velit irure ex occaecat in fugiat officia eu commodo veniam magna. In in non nulla excepteur enim Lorem ullamco minim eu. Ut incididunt do culpa exercitation. Non mollit eiusmod duis aute ullamco aute id irure nostrud ea occaecat irure fugiat. Officia ut est amet laboris nisi. Dolor labore eu eiusmod ex est anim incididunt consequat aliqua consectetur qui minim.\n\nNostrud non laborum ut aliqua cupidatat officia laborum irure elit cupidatat deserunt do. Qui id non exercitation consequat in elit incididunt occaecat voluptate dolore et labore aliquip minim. Pariatur aute fugiat nulla ad id enim dolore veniam culpa occaecat voluptate non. Magna mollit sint veniam sunt sit culpa quis et. Qui laborum fugiat ipsum proident.\n\nSit dolor qui ex nisi cillum aliqua nisi elit laboris cillum in. Irure reprehenderit consequat officia eiusmod voluptate voluptate voluptate proident incididunt ipsum magna Lorem occaecat nulla. Dolore dolore non consequat labore eu aliqua nulla est esse. Cupidatat et anim tempor labore enim anim cupidatat nisi tempor voluptate commodo. Ullamco ad sint fugiat aliquip elit nisi. Exercitation nulla enim aute proident incididunt sit id duis velit laborum. Deserunt anim Lorem sunt dolor ut.\n\nDo occaecat ipsum enim veniam officia nulla sit quis ullamco nisi ex labore qui. Sunt fugiat labore do do amet eiusmod qui ut. Laboris pariatur ad reprehenderit incididunt irure duis irure minim nostrud laborum. Dolore amet dolor consectetur pariatur ex dolore est quis. Laboris nulla reprehenderit commodo consectetur enim labore minim fugiat cupidatat id nostrud. Aliquip ex in non culpa.\n\nOccaecat duis in et qui non eu consequat aute ullamco esse voluptate pariatur anim aute. Incididunt do magna et dolor minim et sunt esse nostrud veniam. Aliquip sit in in sit dolore est incididunt ut id consectetur qui elit. Cillum aliqua mollit est incididunt. Ea eiusmod in ullamco do aliqua sunt. Exercitation proident velit eiusmod qui veniam culpa exercitation id Lorem laborum labore ut.\n\nQuis aliquip nostrud consectetur ea. Lorem mollit proident consectetur sint fugiat. Sint incididunt consectetur magna pariatur mollit sunt pariatur. Nostrud sit in consectetur eu incididunt minim eiusmod officia id fugiat pariatur.\n\nReprehenderit ut nulla amet culpa laboris elit. Occaecat eiusmod est irure nisi amet. Adipisicing magna tempor eiusmod non in proident in in anim fugiat nulla aute officia. Lorem aute dolor dolor veniam velit. Est aliquip duis sint id occaecat ad sit dolor do.\n\nConsequat consectetur esse duis deserunt nostrud nisi officia ipsum ad. Laboris velit ea aute adipisicing anim id incididunt laboris fugiat. Do deserunt eiusmod occaecat anim proident et laboris. Aliquip in amet dolore ut sunt ullamco est minim.\n\nAliqua ut commodo exercitation cupidatat aute minim quis deserunt ad est aliqua amet. Aute commodo non deserunt esse adipisicing sunt mollit reprehenderit fugiat adipisicing. Mollit officia cillum deserunt nisi veniam est. Sunt culpa cupidatat anim consectetur voluptate elit irure.\n\nNon proident ipsum dolor labore minim. Excepteur consequat Lorem est proident. Laborum quis laboris adipisicing dolor id ullamco culpa nostrud Lorem nostrud consequat.\n\nEst est pariatur aute veniam adipisicing. Est dolore proident in commodo. Ipsum amet tempor pariatur eu incididunt reprehenderit cillum aliquip. Nulla nulla excepteur eiusmod irure. Sunt consectetur qui duis id eu dolore id. Nostrud anim officia cupidatat sit cupidatat ex minim minim in excepteur culpa.\n\nLaborum officia anim amet eu magna duis tempor officia reprehenderit ullamco. Officia tempor quis duis aliquip non amet ipsum amet est tempor cillum nostrud. Tempor incididunt do laborum ut ad proident minim occaecat.\n\nMollit laborum cillum ipsum aute Lorem officia mollit in voluptate irure pariatur. Sunt non laborum id velit dolore commodo sint nulla nulla exercitation. Quis laboris ad id nostrud esse sunt. Labore ullamco cupidatat dolor elit cupidatat id pariatur aliqua laborum.\n\nProident irure aliquip ullamco esse nulla eiusmod dolor aute quis tempor magna. Aute ipsum exercitation nulla elit Lorem dolor ullamco cupidatat aute fugiat minim. Sunt sunt quis Lorem quis. Magna elit veniam tempor sunt est amet dolore laborum occaecat deserunt culpa ullamco irure. Excepteur cillum pariatur ut laborum Lorem fugiat.\n\nAliqua dolore nostrud nulla eu proident est. Commodo duis dolor consequat dolor velit id officia Lorem quis. Eu cupidatat laborum ipsum labore ipsum laborum sit minim sint cupidatat. Ipsum tempor eiusmod nulla in et. Officia reprehenderit ea consequat irure irure ipsum dolor consectetur. Velit exercitation amet quis aute.\n\nDolor irure proident qui dolor laborum. Eiusmod occaecat tempor ea commodo qui excepteur commodo esse dolore eiusmod dolore minim in voluptate. Officia aute ex consectetur cillum cupidatat elit consectetur officia laborum ullamco. Aute labore ut magna nostrud aliqua cupidatat.\n\nMinim reprehenderit voluptate enim fugiat id aute nostrud pariatur cillum commodo esse sint. Excepteur non culpa culpa nulla esse. Incididunt enim est ea aute sint adipisicing velit magna enim pariatur.\n\nDeserunt ex aliquip et deserunt cillum amet deserunt sint anim deserunt ex pariatur commodo laboris. Aute cillum sint dolore irure dolore ullamco exercitation velit. Anim adipisicing nulla irure consequat in cupidatat pariatur proident. Commodo irure aute et sunt eu.\n\nQui nisi Lorem excepteur Lorem consectetur. Minim eiusmod ea excepteur eiusmod dolore incididunt. Et veniam elit excepteur officia.\n\nMollit ea duis esse sunt anim sint eu dolor veniam quis aliqua mollit nulla enim. Aliquip laborum voluptate sint veniam dolore labore velit cupidatat fugiat non laboris nisi sint nostrud. Id laboris non laborum esse cillum culpa eu aute ad nulla proident dolore culpa. Pariatur officia nisi nostrud adipisicing.\n\nLabore nostrud minim aliqua eu voluptate. Magna ex id qui laborum consequat Lorem minim tempor veniam tempor enim dolore. Ut ullamco duis tempor occaecat nisi magna esse magna culpa sit amet.\n\nAnim elit aliqua mollit deserunt laborum Lorem Lorem mollit. Proident cillum est eu et. Do velit elit veniam voluptate fugiat pariatur qui ad aute proident.\n\nCommodo nulla velit elit officia eiusmod esse laborum dolor eu eu sunt nulla. Culpa est elit elit consectetur laboris tempor aute laborum aliqua. Quis cillum enim proident nisi id deserunt commodo minim aliqua commodo. Nostrud ut qui est ullamco nostrud aliqua duis veniam irure velit cillum ipsum. Veniam do excepteur eiusmod sunt fugiat ad esse cillum commodo eiusmod duis nostrud officia Lorem.\n\nMinim occaecat cillum laboris dolor enim dolore duis officia laboris deserunt ea dolore nostrud occaecat. Id proident duis Lorem mollit laboris ipsum. Ex do cillum duis enim culpa eiusmod. Fugiat aliqua do nisi aute quis fugiat nulla nisi minim anim. Pariatur in labore culpa veniam ex magna aliqua reprehenderit officia exercitation nisi tempor. Incididunt aliqua non eu velit ipsum deserunt ipsum fugiat aliqua in.\n\nAute do amet ad sit eu consequat anim sit. Labore incididunt eu cupidatat et est ut commodo consequat ipsum. Nulla voluptate amet consectetur ad ullamco labore ut in nisi exercitation veniam.\n\nCupidatat aute nulla amet ex labore cillum dolor. Consectetur nulla quis exercitation elit exercitation. Laborum eu eiusmod cillum sint veniam non sint non ut dolor est eu. Eu in commodo aliquip sint sunt esse aliquip esse nisi culpa sint. Ea nulla minim reprehenderit id non occaecat amet sint eiusmod. Ea ad ea ut velit aute aliquip aliqua id elit velit nisi ex anim anim.\n\nAmet id consequat veniam ad amet consequat nisi non velit commodo. Mollit labore est tempor ex. Ullamco ullamco qui incididunt veniam culpa sit cupidatat officia mollit magna. Aute do occaecat velit quis ex esse ut. Dolor irure aliqua adipisicing consequat fugiat voluptate cupidatat aliquip adipisicing dolore amet. Lorem tempor excepteur commodo sint consectetur ex magna ipsum Lorem aliquip. Nulla Lorem nostrud tempor ut.\n\nExcepteur nisi ea ut fugiat non. Sint consequat commodo elit culpa amet enim proident irure officia Lorem adipisicing. Aute ex consequat cupidatat esse. Voluptate incididunt labore deserunt sit cupidatat anim dolore voluptate sint culpa magna tempor eiusmod. Nisi commodo quis ad tempor laboris aliquip proident fugiat. Consectetur magna eu quis anim. Velit mollit tempor laboris labore qui dolor consequat exercitation minim.\n\nExcepteur et anim consequat culpa do ipsum consequat deserunt amet voluptate. Aliqua commodo ad anim quis ullamco est non deserunt ut. Quis dolor cupidatat nulla ex. Sint ullamco nostrud Lorem duis est velit adipisicing esse aute incididunt. Magna proident ea consectetur sunt irure laboris id enim cillum est velit dolore. Elit incididunt ullamco excepteur magna ad.\n\nLaborum voluptate pariatur qui Lorem qui dolor aliquip duis adipisicing tempor velit. Sint magna ex nostrud ad cillum exercitation irure. Laboris eu et commodo nisi officia eu. Dolore occaecat voluptate ipsum exercitation nisi minim aliquip aliquip cillum cillum ipsum cupidatat consectetur. Magna culpa aliqua et elit. Dolor non anim est occaecat Lorem officia. Cupidatat laborum eiusmod voluptate veniam duis nulla ex est nostrud.\n\nVeniam cillum sint nisi qui reprehenderit et pariatur non id ut pariatur consectetur officia nisi. Officia anim voluptate dolore est consectetur irure mollit. Ipsum velit ut proident sunt ullamco. Cupidatat et aliquip labore enim elit ipsum. Excepteur tempor incididunt ea ipsum.\n\nSit fugiat minim ad in proident amet sit ad et proident. Minim et duis quis do ad non consectetur. Commodo mollit culpa mollit esse elit tempor eiusmod incididunt cupidatat consectetur dolore labore in cupidatat.\n\nVeniam fugiat consectetur fugiat enim voluptate aliquip tempor esse elit esse ut voluptate laborum labore. Ad tempor adipisicing id duis esse. Fugiat officia dolor elit voluptate. Aute qui consectetur nisi ea ipsum culpa sit irure cillum. Ut aute dolor dolor ullamco cillum. Et velit incididunt cupidatat ea velit et tempor eu qui occaecat consequat dolore sit.\n\nExercitation sunt aliqua sunt culpa elit non reprehenderit commodo id laboris. Veniam enim deserunt commodo magna incididunt id velit laborum magna reprehenderit ad adipisicing tempor. Duis dolore do sunt aliquip deserunt culpa esse proident. Reprehenderit quis laborum laborum exercitation aute occaecat. Laborum labore laborum nostrud ea officia sit amet qui consectetur. Est veniam cillum anim cupidatat laboris Lorem ut ullamco commodo irure enim. Qui laboris ipsum pariatur nisi.\n\nCulpa est non adipisicing est sint voluptate elit duis commodo sit enim. Voluptate sunt ad mollit reprehenderit aliqua duis quis veniam incididunt nostrud aliquip adipisicing. Consectetur pariatur consequat sunt Lorem est aliqua aliqua tempor proident Lorem deserunt ea commodo. Aliquip qui aliquip anim deserunt culpa aliqua Lorem exercitation culpa fugiat elit officia.\n\nCulpa sunt sint occaecat non ex occaecat mollit non sit ad exercitation officia id. Irure magna laboris amet qui magna anim laborum veniam commodo nisi consequat. Aliqua ut dolore pariatur fugiat dolore officia sint non nisi ex. Ut velit quis minim labore laborum. Aute velit nulla dolor nostrud et eu. Incididunt esse consectetur veniam quis.\n\nIrure occaecat culpa elit dolor adipisicing commodo velit voluptate anim tempor. Exercitation sint excepteur cillum velit. Do ut nisi fugiat aliqua irure deserunt esse qui.\n\nEu exercitation velit eu Lorem Lorem nisi. Magna laborum nisi id anim id in laborum ut in laboris velit est. Voluptate pariatur commodo velit cupidatat ut cupidatat quis amet. Irure incididunt commodo consequat sint deserunt.\n\nTempor incididunt labore ea labore fugiat nulla consectetur consectetur dolor duis nulla. Qui quis culpa cillum dolor voluptate. Deserunt consequat ea aliqua id dolore consectetur incididunt excepteur consectetur. Incididunt esse eiusmod consectetur minim quis quis eiusmod qui. Irure mollit labore fugiat elit culpa.\n\nMinim proident duis commodo ullamco et sunt aliqua esse. Fugiat laborum eu excepteur eiusmod occaecat. Anim ut pariatur ea ullamco eiusmod qui mollit sint incididunt ex. Amet pariatur in officia laboris commodo.\n\nAliqua anim aute eiusmod ipsum culpa quis Lorem mollit sunt culpa eiusmod. Elit culpa proident Lorem nisi irure laboris. Ut non dolore nulla anim Lorem dolor eu cillum. Excepteur veniam labore culpa fugiat enim. Pariatur esse commodo anim minim id. Commodo irure dolore ipsum irure eu deserunt. Mollit occaecat Lorem velit est cupidatat occaecat.\n\nDolore excepteur aliqua irure ad. Anim culpa laboris enim officia. Amet ipsum veniam sint eu amet occaecat."
        ];

        $body = $this->prepareRequestBody($data);

        $bodyValidator = new BodyValidator($body);

        $this->assertTrue($bodyValidator->validate());
    }

    public function testInvalidBodyContent()
    {
        $this->expectException(NestedValidationException::class);

        $data = [
            "accountId" => "85010c53-eafd-3ce2-93c0-5818b593c25b", // UUID v3 instead UUID v4
            // "timestamp" => 1540462747, missing field
            "data" => 1, // invalid type
        ];

        $body = $this->prepareRequestBody($data);

        $bodyValidator = new BodyValidator($body);

        $bodyValidator->validate();
    }
}
